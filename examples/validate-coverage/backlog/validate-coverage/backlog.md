# Backlog: validate-coverage

> Generated by `aitri plan`.
> Spec-driven rule: every story MUST reference one or more Functional Rules (FR-*) and, when applicable, Acceptance Criteria (AC-*).

## Epics

- EP-1: Enforce FR coverage across backlog and tests
  - Notes: Ensure traceability is not only structural but also complete (coverage).
  - Trace: FR-1, FR-2, FR-3, FR-4

- EP-2: Provide clear validation reporting for missing coverage
  - Notes: Output must list what is missing and where.
  - Trace: FR-4

## User Stories

### US-1 — FR coverage to backlog
- As a CLI user, I want `aitri validate` to fail when any FR-* in the approved spec is not referenced by at least one US-* in the backlog, so that delivery cannot proceed without backlog coverage.
- Trace: FR-1, FR-3, AC-1, AC-2
- Acceptance Criteria:
  - Given an approved spec contains FR-1 and FR-2, when backlog only references FR-1, then validation fails and reports FR-2 as missing from backlog coverage. (AC-1)
  - Given all FR-* in the spec are referenced by at least one US-*, when validation runs, then validation passes this backlog coverage check. (AC-2)

### US-2 — FR coverage to tests
- As a QA/developer, I want `aitri validate` to fail when any FR-* in the approved spec is not referenced by at least one TC-* in tests, so that every rule is test-covered.
- Trace: FR-2, FR-3, AC-1, AC-2
- Acceptance Criteria:
  - Given an approved spec contains FR-1 and FR-2, when tests only reference FR-1, then validation fails and reports FR-2 as missing from test coverage. (AC-1)
  - Given all FR-* in the spec are referenced by at least one TC-*, when validation runs, then validation passes this test coverage check. (AC-2)

### US-3 — Clear reporting
- As a CLI user, I want validation output to list uncovered FR-* items and where they are missing (backlog or tests), so that I can fix traceability quickly.
- Trace: FR-4, AC-1
- Acceptance Criteria:
  - Given some FR-* are uncovered, when validation runs, then output lists each missing FR and the missing target (backlog/tests). (AC-1)

### US-4 — Missing artifacts fail fast
- As a CLI user, I want `aitri validate` to fail with a clear message when required files (approved spec/backlog/tests) are missing, so that setup issues are easy to diagnose.
- Trace: FR-4, AC-3
- Acceptance Criteria:
  - Given the approved spec or backlog or tests file is missing, when validation runs, then it fails with a clear error message describing what is missing. (AC-3)